<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport">
    <title>注册</title>
    <link href="../../layui/css/layui.css" rel="stylesheet" type="text/css">
    <link href="../../xznstatic/css/public.css" rel="stylesheet" type="text/css"/>
    <link href="../../xznstatic/css/login.css" rel="stylesheet" type="text/css"/>
    <style type="text/css">
        .register {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            background-attachment: fixed;
            background-size: cover;
            background-position: center;
            background-image: url(../../img/background.png);
        }

        .register form {
            box-sizing: border-box;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: center !important;
        }

        .register .logo, .register .title {
            box-sizing: border-box;
        }

        .register .logo img {
            display: block;
        }

        .register .title {
            text-align: center;
        }

        .register .form-item {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            box-sizing: border-box;
        }

        .register .form-item input, .register .form-label {
            box-sizing: border-box;
        }

        .register .btn-submit {
            display: block;
            box-sizing: border-box;
        }

        .register form p.txt {
            width: 100%;
            margin: 0;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
<div class="register" id="app">
    <form :style='{"padding":"30px","boxShadow":"0 0 0px rgba(255,0,0,.8)",
"borderColor":"rgba(0,0,0,.3)","backgroundColor":"#0f1c2e",/*深蓝背景*/
"borderRadius":"20px","borderWidth":"0","width":"400px",
"borderStyle":"solid","height":"auto"}'>
        <h1 :style='{"padding":"5px 0","boxShadow":"0 0 0px rgba(255,0,0,.8)","borderColor":"rgba(0,0,0,.3)","backgroundColor":"rgba(255, 255, 255, 0)","borderRadius":"6px","borderWidth":"0","borderStyle":"solid"}' class="logo"
            v-if="false">
            <img :style='{"boxShadow":"0 0 0px rgba(255,0,0,.8)","margin":"0 auto","borderColor":"rgba(0,0,0,.3)","borderRadius":"0","borderWidth":"0px","width":"140px","borderStyle":"solid","height":"140px"}'
                 src="http://codegen.caihongy.cn/20210123/99000a71423f44598066e82c5860e3ba.png"></h1>
        <p :style='{"padding":"0 10px","boxShadow":"0 0 0px rgba(255,0,0,.8)","margin":"10px auto","borderColor":"rgba(15, 118, 228, 1)","backgroundColor":"rgba(15, 118, 228, 0)","color":"rgba(23, 23, 23, 0)","isshow":false,"borderRadius":"8px","borderWidth":"0","width":"100px","lineHeight":"32px","fontSize":"20px","borderStyle":"solid"}' class="title"
           v-if="false">
            用户注册</p>
        <div :style='{"padding":"0","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0 auto","borderColor":"rgba(18, 18, 18, 1)","borderRadius":"0","borderWidth":"0 0 0px 0","width":"80%","borderStyle":"solid","height":"64px"}'
             class="form-item layui-form-text">
            <label :style='{"paddingRight":"10px","boxShadow":"0 0 6px rgba(255,0,0,0)","borderColor":"rgba(0,0,0,0)","backgroundColor":"transparent","color":"#f5f7fa","borderRadius":"0","textAlign":"justify","borderWidth":"0","width":"30%","fontSize":"14px","borderStyle":"solid"}'
                   class="form-label"
                   v-if="true">用户名：</label>
            <input :style='{"padding":"0 10px","boxShadow":"0 0 6px rgba(0,0,0,.5)","borderColor":"#ccc","backgroundColor":"rgb(232,240,254)","color":"#f5f7fa","borderRadius":"8px","textAlign":"center","borderWidth":"0","width":"70%","fontSize":"14px","borderStyle":"solid","height":"33px"}'
                   autocomplete="off" class="layui-input" id="yonghuming" name="yonghuming" placeholder="请输入用户名"
                   type="text">
        </div>
        <div :style='{"padding":"0","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0 auto","borderRadius":"0","borderWidth":"0 0 0px 0","width":"80%","borderStyle":"solid","height":"64px"}'
             class="form-item">
            <label :style='{"paddingRight":"10px","boxShadow":"0 0 6px rgba(255,0,0,0)","borderColor":"rgba(0,0,0,0)","backgroundColor":"transparent","color":"#f5f7fa","borderRadius":"0","textAlign":"justify","borderWidth":"0","width":"30%","fontSize":"14px","borderStyle":"solid"}'
                   class="form-label"
                   v-if="true">密  码：</label>
            <input :style='{"padding":"0 10px","boxShadow":"0 0 6px rgba(0,0,0,.5)","borderColor":"#ccc","backgroundColor":"rgb(232,240,254)","color":"#f5f7fa","borderRadius":"8px","textAlign":"center","borderWidth":"0","width":"70%","fontSize":"14px","borderStyle":"solid","height":"33px"}'
                   autocomplete="off" class="layui-input" lay-verify="required" name="mima" placeholder="请输入密码"
                   required type="password">
        </div>
        <div :style='{"padding":"0","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0 auto","borderColor":"rgba(18, 18, 18, 1)","borderRadius":"0","borderWidth":"0 0 0px 0","width":"80%","borderStyle":"solid","height":"64px"}'
             class="form-item layui-form-text">
            <label :style='{"paddingRight":"10px","boxShadow":"0 0 6px rgba(255,0,0,0)","borderColor":"rgba(0,0,0,0)","backgroundColor":"transparent","color":"#f5f7fa","borderRadius":"0","textAlign":"justify","borderWidth":"0","width":"30%","fontSize":"14px","borderStyle":"solid"}'
                   class="form-label"
                   v-if="true">姓  名：</label>
            <input :style='{"padding":"0 10px","boxShadow":"0 0 6px rgba(0,0,0,.5)","borderColor":"#ccc","backgroundColor":"rgb(232,240,254)","color":"#f5f7fa","borderRadius":"8px","textAlign":"center","borderWidth":"0","width":"70%","fontSize":"14px","borderStyle":"solid","height":"33px"}'
                   autocomplete="off" class="layui-input" id="xingming" name="xingming" placeholder="请输入姓名"
                   type="text">
        </div>
        <div :style='{"padding":"0","boxShadow":"0 0 0px rgba(255,0,0,0)","margin":"0 auto","borderColor":"rgba(18, 18, 18, 1)","borderRadius":"0","borderWidth":"0 0 0px 0","width":"80%","borderStyle":"solid","height":"64px"}'
             class="form-item layui-form-text">
            <label :style='{"paddingRight":"10px","boxShadow":"0 0 6px rgba(255,0,0,0)","borderColor":"rgba(0,0,0,0)","backgroundColor":"transparent","color":"#f5f7fa","borderRadius":"0","textAlign":"justify","borderWidth":"0","width":"30%","fontSize":"14px","borderStyle":"solid"}'
                   class="form-label"
                   v-if="true">联系电话：</label>
            <input :style='{"padding":"0 10px","boxShadow":"0 0 6px rgba(0,0,0,.5)","borderColor":"#ccc","backgroundColor":"rgb(232,240,254)","color":"#f5f7fa","borderRadius":"8px","textAlign":"center","borderWidth":"0","width":"70%","fontSize":"14px","borderStyle":"solid","height":"33px"}'
                   autocomplete="off" class="layui-input" id="lianxidianhua" name="lianxidianhua" placeholder="请输入联系电话"
                   type="text">
        </div>
        <button :style='{"padding":"0 10px","boxShadow":"0 0 0px rgba(255,0,0,.5)",
"margin":"15px auto","borderColor":"#ccc",
"backgroundColor":"rgb(232,240,254)",/*浅蓝背景*/
"color":"#0d1b2a","borderRadius":"22px","borderWidth":"0",
"width":"80%","fontSize":"14px","height":"44px"}'
                class="layui-btn layui-btn-fluid layui-btn-danger btn-submit">注册
        </button>
        <p :style='{"color":"#f5f7fa","textAlign":"center","fontSize":"12px"}' class="txt"><a
           href="javascript:window.location.href='../login/login.html'" style="color:#f5f7fa">已有账号登录</a></p>
    </form>
</div>

<script src="../../layui/layui.js"></script>
<script src="../../js/vue.js"></script>
<!-- 组件配置信息 -->
<script src="../../js/config.js"></script>
<!-- 扩展插件配置信息 -->
<script src="../../modules/config.js"></script>
<!-- 工具方法 -->
<script src="../../js/utils.js"></script>
<!-- 校验格式工具类 -->
<script src="../../js/validate.js"></script>

<script>
    var vue = new Vue({
        el: '#app',
        data: {},
        methods: {}
    });

    layui.use(['layer', 'element', 'carousel', 'form', 'http', 'jquery'], function () {
        var layer = layui.layer;
        var element = layui.element;
        var carousel = layui.carousel;
        var form = layui.form;
        var http = layui.http;
        var jquery = layui.jquery;

        var tablename = http.getParam('tablename');

        // 注册
        form.on('submit(register)', function (data) {
            data = data.field;
            if (!data.yonghuming) {
                layer.msg('用户名不能为空', {
                    time: 2000,
                    icon: 5
                });
                return false
            }
            if (!data.mima) {
                layer.msg('密码不能为空', {
                    time: 2000,
                    icon: 5
                });
                return false
            }
            if (!isMobile(data.lianxidianhua)) {
                layer.msg('联系电话应输入手机格式', {
                    time: 2000,
                    icon: 5
                });
                return false
            }
            http.requestJson(tablename + '/register', 'post', data, function (res) {
                layer.msg('注册成功', {
                    time: 2000,
                    icon: 6
                }, function () {
                    // 路径访问设置
                    window.location.href = '../login/login.html';
                });
            });
            return false
        });
    });
</script>
</body>
</html>
